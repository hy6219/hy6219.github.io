# λ””μμΈν¨ν„΄7- μ „λµ ν¨ν„΄ Strategy Pattern

- ν–‰μ„ ν¨ν„΄
- "λ””μμΈ ν¨ν„΄μ κ½ƒ" "κ°μ²΄μ§€ν–¥μ κ½ƒ"
- μ μ‚¬ ν–‰μ„λ“¤μ„ μΊ΅μν™”ν•μ—¬ κ°μ²΄μ ν–‰μ„λ¥Ό λ°”κΎΈκ³  μ‹¶μ€ κ²½μ° μ§μ ‘ λ³€κ²½ν•λ” κ²ƒμ΄ μ•„λ‹,  μ „λµλ§ λ³€κ²½ν•μ—¬ μ μ—°ν•κ² ν™•μ¥
- SOLID μ„¤κ³„ μ›μΉ™ μ¤‘ κ°λ°©νμ‡„μ›μΉ™ OCPμ™€ μμ΅΄μ—­μ „μ›μΉ™ DIPλ¥Ό λ”°λ¦„

π κµ¬μ„±μ”μ† 

1. μ „λµ λ©”μ„λ“( Method(); )λ¥Ό κ°€μ§„ κ°μ²΄(Object1, Object2)
2. μ „λµκ°μ²΄λ¥Ό μ‚¬μ©ν•λ” μ»¨ν…μ¤νΈ(strategy)
3. μ „λµκ°μ²΄λ¥Ό μƒμ„±ν•΄ μ»¨ν…μ¤νΈμ— μ£Όμ…ν•λ” ν΄λΌμ΄μ–ΈνΈ(client)
- μ»¨ν…μ¤νΈ : **μ‹¤ν–‰ν•  μ½”λ“μ— μ κ³µν•  ν™κ²½ μ •λ³΄λ“¤μ„ λ¨μ•„λ†“μ€ κ°μ²΄**

[https://velog.io/@minidoo/μλ°”μ¤ν¬λ¦½νΈ-μ‹¤ν–‰-μ»¨ν…μ¤νΈλ€-1](https://velog.io/@minidoo/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%9E%80-1)

![https://github.com/hy6219/TIL-Today-I-Learned-/blob/main/Spring/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/%ED%96%89%EC%9C%84%ED%8C%A8%ED%84%B4/%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4/%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4.png?raw=true](https://github.com/hy6219/TIL-Today-I-Learned-/blob/main/Spring/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/%ED%96%89%EC%9C%84%ED%8C%A8%ED%84%B4/%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4/%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4.png?raw=true)

μ „λµν¨ν„΄μ€ μ„λΈ”λ¦Ώμ„ μ‘μ„±ν•  λ• λκΌλ μƒκ°μ„ λλμ΄μΌλ³Ό μ μλ” κ°λ…μΈ κ²ƒ κ°™μ•λ‹¤

λ°”λ΅ μ–΄λ–¤ κ°’μ΄ λ³€κ²½λ  λ• μ„λΈ”λ¦Ώμ„ μ‘μ„±ν•  λ• κ΄€λ ¨ λ¶€λ¶„μ„ λ¨λ‘ μμ •ν•΄μ£Όμ–΄μ•Ό ν–λ”λ°, μ „λµν¨ν„΄μ„ μ΄μ©ν•κ² λλ©΄, "μ „λµ"λ§ λ³€κ²½ν•΄μ£Όλ©΄ λλ‹¤! μ΄λ¬ν• κ²ƒμ΄ κ°€λ¥ν• μ΄μ λ” 

μΈμ½”λ”©κ³Ό κ΄€λ ¨λμ–΄μ„ λΉ—λ€μ–΄ μ ‘κ·Όν•λ‹¤λ©΄

- μ–΄λ–¤ ν•λ‚μ κ°λ…μ΄ μλ”λ°
- aλ°©μ‹κ³Ό bλ°©μ‹μ λ¦¬ν„΄ν•λ” λ°©μ‹λ§ λ‹¤λ¥Έ κ²½μ°μ²λΌ μ²λ¦¬ν•λ” λ°©μ‹μ΄ λ‹¤λ¥Έ κ²½μ°μ—λ”
- μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬ μƒμ„±ν•λ©΄ ν•΄κ²°μ„ ν•  μ μλ‹¤!

λΌλ” κ°λ…μ  κΈ°λ°μ— κ·Όκ±°ν•λ‹¤

μ΄λ ‡κ² 

- μΈν„°νμ΄μ¤
- μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ“¤

μ΄ μλ‹¤λ©΄ μ΄ λ¨μ„μ΄ **μ „λµ**μ΄ λ  κ²ƒμ΄κ³ 

**μΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό ν™κ²½μ •λ³΄λ¥Ό λ‹΄κ³  μλ” κ°μ²΄(μ„μ—μ„λ” Encoder) λ©”μ„λ“ λ‚΄λ¶€μ—μ„ νΈμ¶**ν•κ² λλ‹¤λ©΄

μ°λ¦¬λ” μ•μ„ λ§ν–λ μ „λµ(μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ“¤)λ§ μμ •ν•κ±°λ‚ ν™•μ¥μ‹ν‚¤λ©΄ λλ‹¤!

λ¨Όμ €, κ³µν†µλ κΈ°λ¥μ„ λ¬¶λ” μΈν„°νμ΄μ¤μΈ EncodingStrategyλ¥Ό μ„¤μ •ν•΄λ³΄μ

- μ΄ μΈν„°νμ΄μ¤λ” λ¬Έμμ—΄μ„ μ…λ ¥λ°›μ•„ μΈμ½”λ”©μ²λ¦¬ν•μ—¬ λ¬Έμμ—΄λ΅ λ°ν™ν•΄μ¤€λ‹¤

```java
package com.designPattern.action.strategy;

public interface EncodingStrategy {
    String encode(String text);//μ¤νΈλ§μ„ λ°›μ•„μ„ μΈμ½”λ”©ν•΄μ£Όλ” λ©”μ„λ“
}
```

κ·Έλ¦¬κ³  μ΄λ¥Ό κµ¬ν„ν•μ—¬

- λ³„λ„μ μΈμ½”λ”© μ²λ¦¬ μ—†μ΄ λ°ν™ν•΄μ£Όλ” NormalStrategy
- Base64 λ°©μ‹μΌλ΅ μΈμ½”λ”© μ²λ¦¬ ν›„ λ°ν™ν•΄μ£Όλ” Base64Strategy

κ°€ μλ‹¤κ³  ν•λ©΄ κ°κ°μ€ μ•„λμ™€ κ°™μ΄ μ‘μ„±λ  μ μλ‹¤

```java
package com.designPattern.action.strategy;

public class NormalStrategy implements EncodingStrategy{
    @Override
    public String encode(String text) {
        return text;
    }
}
```

```java
package com.designPattern.action.strategy;

import java.util.Base64;

public class Base64Strategy implements EncodingStrategy{
    @Override
    public String encode(String text) {
        return Base64.getEncoder().encodeToString(text.getBytes());
    }
}
```

κ·Έλ¦¬κ³  μ΄ μ „λµλ“¤μ„ λ³€κ²½ν•΄μ£ΌκΈ° μ„ν• ν™κ²½μ„¤μ • κ°μ²΄(μ»¨ν…μ¤νΈ)λ΅ Encoder ν΄λμ¤λ¥Ό μ‘μ„±ν•λ”λ° μ΄ ν΄λμ¤λ”

- μ „λµ μΈν„°νμ΄μ¤μΈ EncodingStrategyλ¥Ό ν•„λ“λ΅ κ°–λ”λ‹¤
- μ „λµμΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό λ‚΄λ¶€μ μΌλ΅ νΈμ¶ν•λ” λ©”μ„λ“λ¥Ό κ°–λ”λ‹¤

```java
package com.designPattern.action.strategy;

public class Encoder {
    //Encoderλ” μƒν™©μ— λ”°λΌ μΈμ½”λ”©μ„ μ£Όμ…λ°›μ„ κ²ƒ
    private EncodingStrategy encodingStrategy;

    public String getMessage(String message){
        return this.encodingStrategy.encode(message);
    }
    public void setEncodingStrategy(EncodingStrategy encodingStrategy) {
        this.encodingStrategy = encodingStrategy;
    }
}
```

μ΄μ  μ΄λ¬ν• ν¨ν„΄μ΄ μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•΄λ³΄μ

```java
package com.designPattern.action.strategy;

import com.designPattern.generator.singleton.A;

public class StrategyMain {
    public static void main(String[] args){
        Encoder encoder=  new Encoder();

        //base64
        EncodingStrategy base64 = new Base64Strategy();

        //normal
        EncodingStrategy normal = new NormalStrategy()

        String msg = "Hello Java!";
        encoder.setEncodingStrategy(base64);
        String base64Res = encoder.getMessage(msg);

        encoder.setEncodingStrategy(normal);
        String normalRes = encoder.getMessage(msg);

        System.out.println("base 64: "+base64Res+", normal : "+normalRes);//base 64: SGVsbG8gSmF2YSE=, normal : Hello Java!

      }
}
```

μ„μ—μ„ ν™•μΈν•΄λ³Ό μ μλ“―μ΄, μΈμ½”λ”© μ²λ¦¬ λ°©μ‹μ΄ λ‹¬λΌμ§„λ‹¤κ³  ν•΄μ„, ν΄λΌμ΄μ–ΈνΈ(Main)μ—μ„ λ³„λ„μ λ²κ±°λ΅μ΄ μ‘μ—…μ—†μ΄, ν™κ²½μ„¤μ • κ°μ²΄λ¥Ό μ΄μ©ν•μ—¬ μ „λµλ§ λ³€κ²½ν•΄μ£Όλ©΄ κ·Έμ— λ§λ” ν–‰μ„λ¥Ό μ‹¤ν–‰ν•κ² λλ‹¤!